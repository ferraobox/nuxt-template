(window.webpackJsonp=window.webpackJsonp||[]).push([[21,3],{436:function(e,t,r){"use strict";r(38);t.a=function(e,t){var text="".concat(e," ").concat(t);return 1==e?text:text+"s"}},440:function(e,t,r){e.exports={}},442:function(e,t,r){"use strict";r.r(t);r(80),r(55);var n=r(436),o={props:{home:{type:Object,required:!0}},computed:{features:function(){return this.home.features.slice(0,3).join(", ")}},methods:{pluralize:n.a}},c=r(27),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("nuxt-img",{staticClass:"app-house-header",attrs:{provider:"cloudinary",width:"360",height:"200",src:e.home.images[0]}}),e._v(" "),r("div",{staticClass:"app-house-body"},[r("img",{staticClass:"app-fav",attrs:{src:"/images/icons/heart.svg"}}),e._v(" "),r("h2",[e._v(e._s(e.home.title))]),e._v(" "),r("div",{staticClass:"app-address"},[e._v("\n      "+e._s(e.home.location.address)+" "+e._s(e.home.location.city)+"\n      "+e._s(e.home.location.state)+"\n    ")]),e._v(" "),r("div",{staticClass:"app-amenities"},[r("p",[e._v("\n        "+e._s(e.pluralize(e.home.guests,"guest"))+", "+e._s(e.pluralize(e.home.bedrooms,"room"))+",\n        "+e._s(e.pluralize(e.home.beds,"bed"))+",\n        "+e._s(e.pluralize(e.home.bathrooms,"bath"))+"\n      ")]),e._v(" "),r("p",[e._v(e._s(e.features))])]),e._v(" "),r("div",{staticClass:"app-flex"},[r("div",{staticClass:"app-rating"},[e._v("\n        "+e._s(e.home.reviewValue)+"\n        "),r("span",[e._v("("+e._s(e.home.reviewCount)+")")])]),e._v(" "),r("div",{staticClass:"app-price"},[e._v("$"+e._s(e.home.pricePerNight)),r("span",[e._v("/ night")])])])])],1)}),[],!1,null,null,null);t.default=component.exports},454:function(e,t,r){"use strict";r(440)},458:function(e,t,r){"use strict";r.r(t);var n=r(8),o=r(3);r(45),r(23),r(18),r(22),r(7),r(29),r(16),r(30),r(28);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={beforeRouteUpdate:function(e,t,r){var n=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var o,c,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={lat:e.query.lat,lng:e.query.lng},c={start:e.query.start,end:e.query.end},t.next=4,n.$dataApi.getHomesByLocation(o,c);case 4:data=t.sent,n.homes=data.json,n.label=e.query.label,n.lat=e.query.lat,n.lng=e.query.lng,n.updateMap(),r();case 11:case"end":return t.stop()}}),t)})))()},asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n,o,c,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.query,n=e.$dataApi,o={lat:r.lat,lng:r.lng},c={start:r.start,end:r.end},t.next=5,n.getHomesByLocation(o,c);case 5:return data=t.sent,t.abrupt("return",{homes:data.json,label:r.label,lat:r.lat,lng:r.lng});case 7:case"end":return t.stop()}}),t)})))()},head:function(){return{title:"Homes around ".concat(this.label)}},mounted:function(){this.updateMap()},methods:{highlightMarker:function(e,t){var r,n;null===(r=document.getElementsByClassName("home-".concat(e))[0])||void 0===r||null===(n=r.classList)||void 0===n||n.toggle("marker-highlight",t)},updateMap:function(){this.$maps.showMap(this.$refs.map,{lat:this.lat,lng:this.lng},this.getHomeMarkers())},getHomeMarkers:function(){return 0==this.homes.length?null:this.homes.map((function(e){return l(l({},e._geoloc),{},{pricePerNight:e.pricePerNight,id:e.objectID})}))}}},m=(r(454),r(27)),component=Object(m.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-search-results-page"},[r("div",{staticClass:"app-search-results"},[r("div",{staticClass:"app-search-results-listing"},[r("h2",{staticClass:"app-title"},[e._v("Stays in "+e._s(e.label))]),e._v(" "),e._l(e.homes,(function(t){return r("nuxt-link",{key:t.objectID,attrs:{to:"/home/"+t.objectID}},[r("home-row",{staticClass:"app-house",attrs:{home:t},nativeOn:{mouseover:function(r){return e.highlightMarker(t.objectID,!0)},mouseout:function(r){return e.highlightMarker(t.objectID,!1)}}})],1)})),e._v(" "),0==e.homes.length?r("div",[e._v("No homes found, try another city.")]):e._e()],2),e._v(" "),r("div",{staticClass:"app-search-results-map"},[r("div",{ref:"map",staticClass:"app-map"})])])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{HomeRow:r(442).default})}}]);